"use strict";const body=document.querySelector("body");let transition=function(e){let href=this.getAttribute("href"),target=this.getAttribute("target");href&&-1==href.indexOf("#")&&-1==href.indexOf("tel")&&-1==href.indexOf("wa.me")&&-1==href.indexOf("mailto")&&"_blank"!=target&&(e.preventDefault(),e.stopPropagation(),body.classList.add("transition"),window.setTimeout((function(){window.location.href=href}),50))};body.addEventListener("click",(function(e){for(let target=e.target;target&&target!=this;target=target.parentNode)if(target.matches("a")){transition.call(target,e);break}}),!1),window.addEventListener("pageshow",(function(event){!0===event.persisted&&body.classList.remove("transition")}),!1),window.addEventListener("load",(function(){body.classList.remove("is-loading"),body.classList.remove("transition")}));const form=document.querySelector("#form"),container=document.querySelector("#container");form.addEventListener("submit",(function(e){e.preventDefault();const url="http://orc2.notstupid.name:6969/create";let text=this.elements.text.value;text=text.replaceAll("\n","");const payload={title:"Test title",text:text},options={method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(payload)};fetch(url,options).then(response=>{if(!response.ok)throw new Error(`HTTP error: ${response.status}`);return response.text()}).then(text=>container.innerHTML=text).catch(error=>console.log(`Could not fetch: ${error}`))}));